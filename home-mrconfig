[DEFAULT]
include = cat /usr/local/lib/mr/stow
  
lib = . ~/lib/mrlib

[$HOME/repos/wandsas/mr-config]
name = mr-config
order = 1
checkout = git clone git@rpi3.lan:wandsas/mr-config.git $MR_REPO
post_checkout =
  cd "$MR_REPO && git remote add gitlab git@gitlab.com:sawander/mr-config.git
# This load repos/wandsas/mr-config/.mrconfig
chain = false
fixups =
  ln -sf "$MR_REPO/home-mrconfig" ~/.mrconfig
  ln -sf "$MR_REPO/.stow-global-ignore" ~

# xbps-install perl-Test-Output texinfo
[$HOME/builds/stow]
checkout = git clone git@rpi3.lan:stow.git
fixups = git_ensure_remote upstream git://git.savannah.gnu.org/stow.git
  cd $MR_REPO
  autoreconf -fi
  ./configure --prefix=/usr/local
  make -j4
  sudo make install

[$HOME/builds/myrepos]
checkout = git clone git@rpi3.lan:myrepos.git
fixups =
  git_ensure_remote upstream git://myrepos.branchable.com/myrepos
  cd $MR_REPO
  sudo make install

[$HOME/repos/wandsas/shell-env]
checkout = git clone git@rpi3.lan:shell-env.git
fixups = git_ensure_remote gitlab git@gitlab.com:sawander/shell-env.git
stowable = true

[$HOME/repos/wandsas/sway-desktop]
checkout = git clone git@rpi3.lan:sway-desktop.git
fixups = git_ensure_remote gitlab git@gitlab.com:sawander/sway-desktop.git
stowable = true

[$HOME/repos/wandsas/xorg-desktop]
checkout = git clone git@rpi3.lan:xorg-desktop.git
fixups = git_ensure_remote gitlab git@gitlab.com:swander/xorg-desktop.git
stowable = true

[$HOME/repos/wandsas/git-config]
checkout = git clone git@rpi3.lan:git-config.git
fixups = git_ensure_remote gitlab git@gitlab.com:sawander/git-config.git
stowable = true

[$HOME/repos/wandsas/vim-config]
checkout = git clone git@rpi3.lan:vim-config.git
fixups = git_ensure_remote gitlab git@gitlab.com:sawander/vim-config.git
stowable = true

[$HOME/repos/wandsas/mail-config]
checkout = git clone git@rpi3.lan:mail-config.git
fixups = git_ensure_remote gitlab git@gitlab.com:sawander/mail-config.git
stowable = true
fixups = checkprivs
skip = ! myworkstation

[$HOME/.ssh]
checkout = git clone git@rpi3.lan:ssh-config.git $MR_REPO
fixups = checkprivs
skip = ! myworkstation

[$HOME/.gnupg]
checkout = git clone git@rpi3.lan:gnupg-config.git $MR_REPO
fixups = checkprivs
skip = ! myworkstation

[$HOME/.password-store]
checkout = git clone git@rpi3.lan:password-store.git $MR_REPO
fixups = checkprivs
skip = ! myworkstation

# vim: fenc=utf-8 ft=dosini ts=2 sts=2 sw=2 et
